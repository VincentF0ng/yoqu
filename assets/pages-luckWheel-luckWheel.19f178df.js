import{o as t,a as e,w as a,d as n,e as r,x as s,g as i,v as l,D as o,E as p,G as d,p as c,H as u,f,r as m,i as h}from"./index-c8b85e9c.js";import{_ as g}from"./uni-data-picker.f64a85a6.js";import{_ as b,r as y}from"./uni-app.es.a0b016b8.js";import{_ as k}from"./uni-icons.e1934763.js";import{_}from"./v-btn.e49c851c.js";import"./uni-load-more.10c7c454.js";const U=b({name:"luck-wheel",props:{mode:{type:String,default:"ease-in-out"},duration:{type:Number,default:4e3},pointerBg:{type:String,required:!0}},data:()=>({angle:0}),methods:{run(){this.angle=this.angle+1440+360*Math.random()}},computed:{rotateStyle(){return`\n\t\t\t\t -webkit-transition: transform ${this.duration}ms ${this.mode};\n\t\t\t\t transition: transform ${this.duration}ms ${this.mode};\n\t\t\t\t -webkit-transform: rotate(${this.angle}deg);\n\t\t\t\t\t\t transform: rotate(${this.angle}deg);`}}},[["render",function(l,o,p,d,c,u){const f=s,m=i;return t(),e(m,{class:"wheel-wrap"},{default:a((()=>[n(f,{class:"pointer",style:r(u.rotateStyle),src:p.pointerBg,mode:"aspectFit"},null,8,["style","src"])])),_:1})}],["__scopeId","data-v-024ca49c"]]);const w=b({data:()=>({bannerAdpid:"",bannerUnitId:"",pointerUrl:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-9c9554a3-d4de-4f0f-b941-dfe1990da1c1/6aeb3461-1ae1-4234-b242-58a5da62a77f.png",pointerList:[]}),methods:{start(){l(),this.$refs.wheelRef.run()}},onLoad:function(){c().getConfig().then((t=>{this.bannerAdpid=t.bannerAdpid||"",this.bannerUnitId=t.bannerUnitId||""})),o({title:"加载中"});p.importObject("luckWheelOptions").getWheelList().then((t=>{t.length&&(this.pointerList=t,this.pointerUrl=t[0].url)})).finally((t=>{d()}))},onShareAppMessage:()=>({title:"游趣街 - 幸运转盘！快和小伙伴一起玩吧!",path:"/pages/luckWheel/luckWheel",imageUrl:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-9c9554a3-d4de-4f0f-b941-dfe1990da1c1/f15d7fa8-f884-42c7-b69a-38e4453e27b1.png"}),onShareTimeline:()=>({title:"游趣街 - 幸运转盘！快和小伙伴一起玩吧!",path:"/pages/luckWheel/luckWheel",imageUrl:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-9c9554a3-d4de-4f0f-b941-dfe1990da1c1/f15d7fa8-f884-42c7-b69a-38e4453e27b1.png"})},[["render",function(r,s,l,o,p,d){const c=i,b=y(m("uni-data-picker"),g),w=y(m("luck-wheel"),U),v=h,C=y(m("uni-icons"),k),E=y(m("v-btn"),_);return t(),e(c,{class:"container"},{default:a((()=>[n(c,{class:"description-wrap"},{default:a((()=>[u("p",null,[f("众人围坐成圆，将手机放置中间，点击开始或图案"),u("br"),f("选出幸运儿吧～")])])),_:1}),n(c,{class:"select-wrap"},{default:a((()=>[n(b,{"popup-title":"请选择转盘样式",modelValue:p.pointerUrl,"onUpdate:modelValue":s[0]||(s[0]=t=>p.pointerUrl=t),localdata:p.pointerList,map:{text:"title",value:"url"},"clear-icon":!1},null,8,["modelValue","localdata"])])),_:1}),n(c,{class:"luck-wheel-wrap",onClick:d.start},{default:a((()=>[n(w,{ref:"wheelRef",mode:"ease-in-out",duration:4e3,"pointer-bg":p.pointerUrl},null,8,["pointer-bg"])])),_:1},8,["onClick"]),n(c,{class:"option-wrap"},{default:a((()=>[n(E,{class:"btn",type:"primary",onClick:d.start},{default:a((()=>[n(v,{style:{"margin-right":"10px"}},{default:a((()=>[f("开始")])),_:1}),n(C,{type:"fire-filled",size:"20",color:"#E4EBF5"})])),_:1},8,["onClick"]),n(E,{class:"btn",type:"primary","open-type":"share"},{default:a((()=>[n(v,{style:{"margin-right":"10px"}},{default:a((()=>[f("分享给朋友")])),_:1}),n(C,{type:"chatboxes-filled",size:"20",color:"#E4EBF5"})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-b7194090"]]);export{w as default};
