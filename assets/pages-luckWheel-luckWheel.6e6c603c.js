import{o as e,a as t,w as a,d as n,e as r,y as s,g as i,v as l,E as o,L as p,G as d,q as c,H as u,f,r as m,i as h}from"./index-ab7ec73d.js";import{_ as g}from"./uni-data-picker.c1aa8bd2.js";import{r as b}from"./uni-app.es.f46513ae.js";import{_ as y}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as k}from"./uni-icons.63e5f710.js";import{_}from"./v-btn.692ac0fd.js";import"./uni-load-more.73ff6927.js";const U=y({name:"luck-wheel",props:{mode:{type:String,default:"ease-in-out"},duration:{type:Number,default:4e3},pointerBg:{type:String,required:!0}},data:()=>({angle:0}),methods:{run(){this.angle=this.angle+1440+360*Math.random()}},computed:{rotateStyle(){return`\n\t\t\t\t -webkit-transition: transform ${this.duration}ms ${this.mode};\n\t\t\t\t transition: transform ${this.duration}ms ${this.mode};\n\t\t\t\t -webkit-transform: rotate(${this.angle}deg);\n\t\t\t\t\t\t transform: rotate(${this.angle}deg);`}}},[["render",function(l,o,p,d,c,u){const f=s,m=i;return e(),t(m,{class:"wheel-wrap"},{default:a((()=>[n(f,{class:"pointer",style:r(u.rotateStyle),src:p.pointerBg,mode:"aspectFit"},null,8,["style","src"])])),_:1})}],["__scopeId","data-v-024ca49c"]]);const w=y({data:()=>({bannerAdpid:"",bannerUnitId:"",pointerUrl:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-9c9554a3-d4de-4f0f-b941-dfe1990da1c1/6aeb3461-1ae1-4234-b242-58a5da62a77f.png",pointerList:[]}),methods:{start(){l(),this.$refs.wheelRef.run()}},onLoad:function(){c().getConfig().then((e=>{this.bannerAdpid=e.bannerAdpid||"",this.bannerUnitId=e.bannerUnitId||""})),o({title:"加载中"});p.importObject("luckWheelOptions").getWheelList().then((e=>{e.length&&(this.pointerList=e,this.pointerUrl=e[0].url)})).finally((e=>{d()}))},onShareAppMessage:()=>({title:"游趣街 - 幸运转盘！快和小伙伴一起玩吧!",path:"/pages/luckWheel/luckWheel",imageUrl:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-9c9554a3-d4de-4f0f-b941-dfe1990da1c1/f15d7fa8-f884-42c7-b69a-38e4453e27b1.png"}),onShareTimeline:()=>({title:"游趣街 - 幸运转盘！快和小伙伴一起玩吧!",path:"/pages/luckWheel/luckWheel",imageUrl:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-9c9554a3-d4de-4f0f-b941-dfe1990da1c1/f15d7fa8-f884-42c7-b69a-38e4453e27b1.png"})},[["render",function(r,s,l,o,p,d){const c=i,y=b(m("uni-data-picker"),g),w=b(m("luck-wheel"),U),v=h,j=b(m("uni-icons"),k),C=b(m("v-btn"),_);return e(),t(c,{class:"container"},{default:a((()=>[n(c,{class:"description-wrap"},{default:a((()=>[u("p",null,[f("众人围坐成圆，将手机放置中间，点击开始或图案"),u("br"),f("选出幸运儿吧～")])])),_:1}),n(c,{class:"select-wrap"},{default:a((()=>[n(y,{"popup-title":"请选择转盘样式",modelValue:p.pointerUrl,"onUpdate:modelValue":s[0]||(s[0]=e=>p.pointerUrl=e),localdata:p.pointerList,map:{text:"title",value:"url"},"clear-icon":!1},null,8,["modelValue","localdata"])])),_:1}),n(c,{class:"luck-wheel-wrap",onClick:d.start},{default:a((()=>[n(w,{ref:"wheelRef",mode:"ease-in-out",duration:4e3,"pointer-bg":p.pointerUrl},null,8,["pointer-bg"])])),_:1},8,["onClick"]),n(c,{class:"option-wrap"},{default:a((()=>[n(C,{class:"btn",type:"primary",onClick:d.start},{default:a((()=>[n(v,{style:{"margin-right":"10px"}},{default:a((()=>[f("开始")])),_:1}),n(j,{type:"fire-filled",size:"20",color:"#E4EBF5"})])),_:1},8,["onClick"]),n(C,{class:"btn",type:"primary","open-type":"share"},{default:a((()=>[n(v,{style:{"margin-right":"10px"}},{default:a((()=>[f("分享给朋友")])),_:1}),n(j,{type:"chatboxes-filled",size:"20",color:"#E4EBF5"})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-b7194090"]]);export{w as default};
