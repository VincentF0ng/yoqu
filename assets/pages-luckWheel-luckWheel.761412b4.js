import{o as e,a as t,w as a,d as n,e as r,y as i,g as s,v as l,V as d,W as o,Y as p,m as c,b as u,Z as f,f as m,u as b,r as h,i as g}from"./index.d9f4ebbb.js";import{_ as y}from"./uni-data-picker.add7d77c.js";import{_ as k,r as U}from"./uni-app.es.5b214af4.js";import{_}from"./uni-icons.be7bee54.js";import{_ as w}from"./v-btn.a4477718.js";import"./uni-load-more.3e8572bc.js";const I=k({name:"luck-wheel",props:{mode:{type:String,default:"ease-in-out"},duration:{type:Number,default:4e3},pointerBg:{type:String,required:!0}},data:()=>({angle:0}),methods:{run(){this.angle=this.angle+1440+360*Math.random()}},computed:{rotateStyle(){return`\n\t\t\t\t -webkit-transition: transform ${this.duration}ms ${this.mode};\n\t\t\t\t transition: transform ${this.duration}ms ${this.mode};\n\t\t\t\t -webkit-transform: rotate(${this.angle}deg);\n\t\t\t\t\t\t transform: rotate(${this.angle}deg);`}}},[["render",function(l,d,o,p,c,u){const f=i,m=s;return e(),t(m,{class:"wheel-wrap"},{default:a((()=>[n(f,{class:"pointer",style:r(u.rotateStyle),src:o.pointerBg,mode:"aspectFit"},null,8,["style","src"])])),_:1})}],["__scopeId","data-v-024ca49c"]]);const v=k({data:()=>({bannerAdpid:"",bannerUnitId:"",pointerUrl:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-9c9554a3-d4de-4f0f-b941-dfe1990da1c1/6aeb3461-1ae1-4234-b242-58a5da62a77f.png",pointerList:[]}),methods:{start(){l(),this.$refs.wheelRef.run()}},onLoad:function(){c().getConfig().then((e=>{this.bannerAdpid=e.bannerAdpid||"",this.bannerUnitId=e.bannerUnitId||""})),d({title:"加载中"});o.importObject("luckWheelOptions").getWheelList().then((e=>{e.length&&(this.pointerList=e,this.pointerUrl=e[0].url)})).finally((e=>{p()}))},onShareAppMessage:()=>({title:"游趣街 - 幸运转盘！快和小伙伴一起玩吧!",path:"/pages/luckWheel/luckWheel",imageUrl:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-9c9554a3-d4de-4f0f-b941-dfe1990da1c1/f15d7fa8-f884-42c7-b69a-38e4453e27b1.png"}),onShareTimeline:()=>({title:"游趣街 - 幸运转盘！快和小伙伴一起玩吧!",path:"/pages/luckWheel/luckWheel",imageUrl:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-9c9554a3-d4de-4f0f-b941-dfe1990da1c1/f15d7fa8-f884-42c7-b69a-38e4453e27b1.png"})},[["render",function(r,i,l,d,o,p){const c=b,k=s,v=U(h("uni-data-picker"),y),j=U(h("luck-wheel"),I),x=g,C=U(h("uni-icons"),_),A=U(h("v-btn"),w);return e(),t(k,{class:"container"},{default:a((()=>[o.bannerAdpid||o.bannerUnitId?(e(),t(k,{key:0,style:{width:"100%",display:"flex","justify-content":"center","margin-bottom":"20px"}},{default:a((()=>[o.bannerAdpid&&!o.bannerUnitId?(e(),t(c,{key:0,adpid:o.bannerAdpid},null,8,["adpid"])):u("",!0),o.bannerUnitId?(e(),t(c,{key:1,unitId:o.bannerUnitId},null,8,["unitId"])):u("",!0)])),_:1})):u("",!0),n(k,{class:"description-wrap"},{default:a((()=>[f("p",null,[m("众人围坐成圆，将手机放置中间，点击开始或图案"),f("br"),m("选出幸运儿吧～")])])),_:1}),n(k,{class:"select-wrap"},{default:a((()=>[n(v,{"popup-title":"请选择转盘样式",modelValue:o.pointerUrl,"onUpdate:modelValue":i[0]||(i[0]=e=>o.pointerUrl=e),localdata:o.pointerList,map:{text:"title",value:"url"},"clear-icon":!1},null,8,["modelValue","localdata"])])),_:1}),n(k,{class:"luck-wheel-wrap",onClick:p.start},{default:a((()=>[n(j,{ref:"wheelRef",mode:"ease-in-out",duration:4e3,"pointer-bg":o.pointerUrl},null,8,["pointer-bg"])])),_:1},8,["onClick"]),n(k,{class:"option-wrap"},{default:a((()=>[n(A,{class:"btn",type:"primary",onClick:p.start},{default:a((()=>[n(x,{style:{"margin-right":"10px"}},{default:a((()=>[m("开始")])),_:1}),n(C,{type:"fire-filled",size:"20",color:"#E4EBF5"})])),_:1},8,["onClick"]),n(A,{class:"btn",type:"primary","open-type":"share"},{default:a((()=>[n(x,{style:{"margin-right":"10px"}},{default:a((()=>[m("分享给朋友")])),_:1}),n(C,{type:"chatboxes-filled",size:"20",color:"#E4EBF5"})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-9610ee78"]]);export{v as default};
